import numpy as np
import matplotlib.pyplot as plt

data = np.array([32    ,              1.36972 ,
               64       ,           2.95946, 
               96        ,           4.4248 ,
              128         ,         5.88215 ,
              160          ,        6.73143 ,
              192          ,        8.17747 ,
              224          ,        9.63079 ,
              256         ,         10.8182 ,
              288         ,          9.1562 ,
              320         ,         10.1885 ,
              352         ,         11.1924 ,
              384         ,           12.09 ,
              416         ,         9.83818 ,
              448         ,         10.7701 ,
              480         ,         11.5155 ,
              512         ,         11.9238 ,
              544         ,         10.3093 ,
              576         ,         10.7227 ,
              608         ,         11.6768 ,
              640         ,          12.294 ,
              672         ,         10.7724 ,
              704         ,         11.3089 ,
              736         ,         11.8948 ,
              768         ,         11.8954 ,
              800         ,         10.7738 ,
              832         ,         11.4095 ,
              864         ,         11.4613 ,
              896         ,         12.1027 ,
              928         ,         11.2977 ,
              960         ,         11.3125 ,
              992         ,         13.9794 ,
             1024         ,         14.3187 ])

data2 = np.array([36      ,             2.5764 ,
              72          ,        5.81977 ,
             108          ,        8.00082 ,
             144          ,        10.5774 ,
             180          ,        7.91109 ,
             216          ,        9.41747 ,
             252          ,        9.50881 ,
             288          ,        10.7374 ,
             324          ,        9.39737 ,
             360          ,        10.5574 ,
             396          ,        10.2037 ,
             432          ,        10.9089 ,
             468          ,         10.381 ,
             504          ,        11.3658 ,
             540          ,        10.8814 ,
             576          ,        11.4564 ,
             612          ,        10.1016 ,
             648          ,         10.764 ,
             684          ,        11.2881 ,
             720          ,         11.734 ,
             756          ,        11.3642 ,
             792          ,         11.951 ,
             828          ,        11.4508 ,
             864          ,        11.6861 ,
             900          ,        11.5139 ,
             936          ,        11.7303 ,
             972          ,         11.683 ,
            1008          ,        11.9781 ,
            1044          ,        11.6651 ,
            1080          ,          11.89 ,
            1116          ,         11.747 ,
            1152          ,        12.0158 ])

data3 = np.array([20      ,           0.907771,
             40           ,       3.34225,
             60           ,        4.6875,
             80           ,       6.33714,
            100           ,       6.97545,
            120           ,       7.32422,
            140           ,       8.54492,
            160           ,       8.82613,
            180           ,       9.30521,
            200           ,       9.52744,
            300           ,       8.37054,
            400           ,       9.26612,
            500           ,       8.91329,
            600           ,       10.0563,
            700           ,       10.2029,
            800           ,       10.5064,
            900           ,        10.518,
           1000           ,       10.4989,
           1200           ,       10.8507,
           1400           ,       10.8547,
           1600           ,       10.7863,
           1800           ,       10.9863,
           2000           ,       10.9726,
           2200           ,       11.1318,
           2400           ,       11.1607,
           2600          ,        11.2847,
           2800          ,        11.3151,
           3000           ,       11.2734])

data4 = np.array([2**15, 246.72   , 2**16,     341.68    ,2**17,    393.04    ,2**18,     405.46    , 2**19,   152.74    
                  ,2**20,      68.90     , 2**21  ,  51.84     ,2**22,     14.01])

data5 = np.array([1 ,     1.3280  ,   451.8,
       2  ,    3.3519  ,   179.0,
       3  ,    5.3633  ,   111.9,
       4  ,    6.7550  ,    88.8,
       5  ,    8.8135  ,    68.1 ,
       6  ,   10.1785  ,    58.9,
       7  ,   12.2441  ,    49.0,
       8  ,   13.0784  ,    45.9,
       9  ,   15.5598  ,    38.6,
      10  ,   16.4284  ,    36.5,
      11  ,   18.2157  ,    32.9,
      12  ,   19.1086  ,    31.4,
      13  ,   20.6596  ,    29.0,
      14  ,   20.9303  ,    28.7,
      15  ,   22.2975  ,    26.9,
      16  ,   21.1847  ,    28.3,
      17  ,   23.7665  ,    25.2,
      18  ,   23.6718  ,    25.3,
      19  ,   25.2812  ,    23.7,
      20  ,   25.0278  ,    24.0,
      21  ,   26.2805  ,    22.8,
      22  ,   26.0588  ,    23.0,
      23  ,   28.3112  ,    21.2,
      24  ,   27.2292  ,    22.0,
      25  ,   28.9844  ,    20.7,
      26  ,   27.9672  ,    21.5,
      27  ,   29.9942  ,    20.0,
      28  ,   28.8822  ,    20.8,
      29  ,   30.9191  ,    19.4,
      30  ,   29.4538  ,    20.4,
      31  ,   30.7285  ,    19.5,
      32  ,   27.5357  ,    21.8])

plt.figure()
plt.title('Bandwidth vs. Stride')
plt.semilogy(data5[0::3], data5[2::3], 'o-')
plt.xlabel('Stride')
plt.ylabel('GB/sec')
plt.savefig('plot5.png')